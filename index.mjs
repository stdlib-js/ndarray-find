// Copyright (c) 2026 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-reduce-subarray-by@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-find@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-spread-dimensions@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtype@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-empty@v0.3.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@v0.2.3-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-scalar@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@v0.2.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import{isPrimitive as g}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import{primitives as x}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer-array@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@v0.1.1-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtype-resolve-str@v0.2.2-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-complex64-nan@v0.2.2-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-complex128-nan@v0.2.2-esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int8-max@v0.2.2-esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int16-max@v0.2.2-esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-int32-max@v0.3.0-esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-uint8-max@v0.2.2-esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-uint16-max@v0.2.2-esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-uint32-max@v0.2.2-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";var B={dims:null,keepdims:!1};function C(s,e,t){var n;if(!u(t))return new TypeError(b("null2V",t));if(i(t,"keepdims")&&(s.keepdims=t.keepdims,!g(s.keepdims)))return new TypeError(b("null2o","keepdims",s.keepdims));if(i(t,"dims")){if(s.dims=t.dims,!x(s.dims)&&!y(s.dims))return new TypeError(b("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",s.dims));if(null===(n=w(s.dims,e-1)))return new RangeError(b("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",E(s.dims,",")));if(n.length!==s.dims.length)return new Error(b("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",E(s.dims,",")));if(n.length>e)return new RangeError(b("invalid option. `%s` option specifies more dimensions than exists in the input array. Number of dimensions: %d. Option: [%s].","dims",e,E(s.dims,",")));s.dims=n}return i(t,"sentinel")&&(s.sentinel=t.sentinel),null}var D={complex128:N,complex64:k,float64:NaN,float32:NaN,int8:O,int16:z,int32:R,uint8:V,uint8c:V,uint16:q,uint32:S,bool:!1};function F(s){var e=D[T(s)];return void 0===e?NaN:e}function G(s,u,g,x){var y,w,E,T,k,N,O,z,R,V,q,S,A,D,G,H;if(w=arguments.length,!t(s))throw new TypeError(b("null5t",s));if(w<3){if(!e(A=u))throw new TypeError(b("null2b",A))}else if(w>3){if(V=!0,H=u,!e(A=g))throw new TypeError(b("null2b",A));q=x}else if(e(u))A=u,q=g;else{if(!e(g))throw new TypeError(b("null2b",g));V=!0,H=u,A=g}if(D=o(s),G=(N=l(s)).length,E=c({},B),V&&(T=C(E,G,H)))throw T;return null===E.dims&&(E.dims=f(G)),k=m(G,E.dims),O=v(N,k),z=a(s),y=i(E,"sentinel")?E.sentinel:F(D),S=t(y)?j(y,O):h(y,D,O,z),R=p(O,{dtype:D,order:z}),n(r,[s,R,S],E.dims,A,q),E.keepdims&&(R=d(G,R,k,!0)),R}function H(s,d,m,p,v){var u,g,x,y,w,E,T,k,N,O,z;if(g=arguments.length,!t(s))throw new TypeError(b("null5t",s));if(!t(d))throw new TypeError(b("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",d));if(g<4){if(!e(k=m))throw new TypeError(b("null2b",k))}else if(g>4){if(w=!0,z=m,!e(k=p))throw new TypeError(b("null2b",k));E=v}else if(e(m))k=m,E=p;else{if(!e(p))throw new TypeError(b("null2b",p));w=!0,z=m,k=p}if(N=o(s),O=A(s),x=c({},B),w&&(y=C(x,O,z)))throw y;return null===x.dims&&(x.dims=f(O)),u=i(x,"sentinel")?x.sentinel:F(N),T=t(u)?j(u,l(d)):h(u,N,l(d),a(d)),n(r,[s,d,T],x.dims,k,E),d}s(G,"assign",H);export{H as assign,G as default};
//# sourceMappingURL=index.mjs.map
